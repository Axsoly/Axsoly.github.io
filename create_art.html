<!DOCTYPE html>
<html lang="en" class="scroll-smooth" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Create Art - Art Showcase</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
    }
  </script>
</head>
<body class="bg-white dark:bg-black text-purple-900 dark:text-purple-200 min-h-screen flex flex-col justify-center items-center p-6">

<header class="flex justify-between items-center w-full max-w-4xl mb-6">
  <h1 class="text-4xl font-bold text-purple-700 dark:text-purple-300">Create Art</h1>
  <!-- Dark Mode Toggle Button -->
  <button id="dark-mode-toggle" aria-label="Toggle dark mode"
    class="p-2 rounded bg-purple-300 dark:bg-purple-700 text-purple-900 dark:text-purple-200 hover:bg-purple-400 dark:hover:bg-purple-600 transition">
    <svg id="icon-light" class="w-6 h-6 block dark:hidden" fill="currentColor" viewBox="0 0 20 20">
      <path d="M10 4.5a5.5 5.5 0 1 1 0 11 5.5 5.5 0 0 1 0-11z" />
    </svg>
    <svg id="icon-dark" class="w-6 h-6 hidden dark:block" fill="currentColor" viewBox="0 0 24 24">
      <path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79z" />
    </svg>
  </button>
</header>

<main class="max-w-4xl w-full grid grid-cols-1 md:grid-cols-2 gap-12">
  <section class="bg-purple-50 dark:bg-purple-900 p-8 rounded-lg shadow-lg flex flex-col items-center space-y-6">
  <h1 class="text-3xl font-bold text-purple-700 dark:text-purple-300">Upload Your Own Art</h1>
  {% if can_upload %}
    <p class="text-purple-700 dark:text-purple-300 max-w-md text-center">
      Upload an image file from your computer to showcase your masterpiece.
    </p>
    <form method="POST" action="{{ url_for('create_art') }}" enctype="multipart/form-data" class="w-full flex flex-col space-y-4">
      <input name="title" type="text" placeholder="Art Title" required
        class="w-full rounded px-4 py-3 bg-white dark:bg-purple-950 border border-purple-300 dark:border-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500" />
      <input name="image" type="file" accept="image/png, image/jpeg, image/gif" required
        class="w-full text-purple-700 dark:text-purple-200" />
      <button type="submit"
        class="bg-purple-400 hover:bg-purple-600 text-white py-3 rounded text-lg font-semibold transition">Upload</button>
    </form>
  {% else %}
    <p class="text-purple-700 dark:text-purple-300 max-w-md text-center">
      Upload is disabled by the administrator of this site.
    </p>
    <form class="w-full flex flex-col space-y-4">
      <input name="title" type="text" placeholder="Art Title" disabled
        class="w-full rounded px-4 py-3 bg-white dark:bg-purple-950 border border-purple-300 dark:border-purple-700 opacity-60" />
      <input name="image" type="file" accept="image/png, image/jpeg, image/gif" disabled
        class="w-full text-purple-700 dark:text-purple-200 opacity-60" />
      <button type="button" disabled
        class="bg-purple-400 text-white py-3 rounded text-lg font-semibold opacity-60 cursor-not-allowed">Upload</button>
    </form>
  {% endif %}
</section>


  <section class="bg-purple-50 dark:bg-purple-900 p-8 rounded-lg shadow-lg flex flex-col items-center space-y-6">
    <h1 class="text-3xl font-bold text-purple-700 dark:text-purple-300">Create Pixel Art</h1>
    <p class="text-purple-700 dark:text-purple-300 max-w-md text-center">
      Use our built-in pixel art editor to create custom art from scratch.
    </p>
    <a href="{{ url_for('pixel_art_editor') }}"
       class="inline-block bg-purple-400 hover:bg-purple-600 text-white px-8 py-3 rounded text-lg font-semibold transition text-center">
      Start Creating
    </a>
  </section>
</main>

<script>
  const toggleButton = document.getElementById('dark-mode-toggle');
  const htmlElement = document.documentElement;

  // Initialize dark mode from saved preference or system setting
  if (localStorage.getItem('theme') === 'dark' ||
      (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    htmlElement.classList.add('dark');
  } else {
    htmlElement.classList.remove('dark');
  }

  toggleButton.addEventListener('click', () => {
    htmlElement.classList.toggle('dark');
    if (htmlElement.classList.contains('dark')) {
      localStorage.setItem('theme', 'dark');
    } else {
      localStorage.setItem('theme', 'light');
    }
  });
</script>

</body>
</html>
